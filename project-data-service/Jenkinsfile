node {
    stage ("Checkout DataApi"){
        git branch: 'develop', url: 'https://github.com/williams-rachael/msd-data-service.git'
    }
    
    stage ("Gradle Build - DataApi") {
        sh 'gradle -b project-data-service/build.gradle clean build'
    }
    
    stage ("Gradle Bootjar-Package - DataApi") {
        sh 'gradle -b project-data-service/build.gradle bootjar'
    }

    stage('User Acceptance Test') {

	   def response= input message: 'Is this build good to go?',
	   parameters: [choice(choices: 'Yes\nNo', 
	   description: '', name: 'Pass')]
	
	  if(response=="Yes") {
	    stage('Deploy') {
	      sh 'gradle -b project-data-service/build.gradle build -x test'
        }
      }
    }	
}
